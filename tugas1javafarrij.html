<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Pegawai</title>
    <link rel="stylesheet" type="text/css" href="./css/style1.css">
</head>
<body>
    <h1 class="judul-style">
        Tabel Pegawai
    </h1>
    <table class="table-pegawai">
        <thead>
            <tr>
                    <th>Nama Pegawai</th>
                    <th>Jabatan</th>
                    <th>Status</th>
                    <th>Gaji Pokok</th>
                    <th>Tunjangan Jabatan</th>
                    <th>BPJS</th>
                    <th>Tunjangan Keluarga(Ternary)</th>
            </tr>
        </thead>
        <tbody id="dataPegawai">
        <!-- Isi data pegawai -->
    </tbody>
    <tfoot id="totalGaji">
        <!-- Isi Total gaji -->
    </tfoot>
    </table>

    <script>
        // diketahui data tetap pegawai
        const namaPeg = 'Ridwan';
        const jabatan = 'Manager';
        const status = 'Menikah';

        // mengisi gaji pokok tiap pegawai dan status
        function gaji(jabatan, status) {
            let gapok = 0;
            switch (jabatan) {
                case 'Manager':
                    gapok = 15000000;
                    break;
                case 'Asisten Manager':
                    gapok = 10000000;
                    break;
                case 'Staff':
                    gapok = 5000000;
                    break;
            }

            // Menetapkan nilai data yang dicari
            const tunjanganJab = 0.15 * gapok;
            const bpjs = 0.10 * gapok;
            const tunjanganKel = status === 'Menikah' ? 0.20 * gapok : 0;
            const totalGaj = gapok + bpjs + tunjanganKel + tunjanganJab;

            // Setelah dapat nilai yang dicari kemudian dimasukkan kedalam array
            return [gapok, tunjanganJab, bpjs, tunjanganKel, totalGaj];
        }

        // Menetapkan nilai 
        const [gapok, tunjanganJab, bpjs, tunjanganKel, totalGaj] = gaji(jabatan, status);

        // Menambahkan data pegawai ke isi tabel
        const tbody = document.getElementById('dataPegawai');
        const baris = `<tr> 
                         <td>${namaPeg}</td>
                         <td>${jabatan}</td>
                         <td>${status}</td>
                         <td>Rp.${gapok.toLocaleString()}</td>
                         <td>Rp.${tunjanganJab.toLocaleString()}</td>
                         <td>Rp.${bpjs.toLocaleString()}</td>
                         <td>Rp.${tunjanganKel.toLocaleString()}</td>
                       </tr>`;

        tbody.innerHTML = baris;

        // Menambahkan total gaji kedalam tabel foot
        const tfoot = document.getElementById('totalGaji');
        const tot = `<tr>
                       <th colspan="6">Total Gaji</td>
                       <th>Rp.${totalGaj.toLocaleString()}</td>
                     </tr>`;
            tfoot.innerHTML = tot;
    </script>
</body>
</html>